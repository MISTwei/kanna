(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subPackages-personal-updateAddress"],{"0820":function(t,e,a){"use strict";var i=a("d385"),s=a.n(i);s.a},"0b53":function(t,e,a){"use strict";a.r(e);var i=a("3543"),s=a("4a14");for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("0820");var n=a("828b"),r=Object(n["a"])(s["default"],i["b"],i["c"],!1,null,"c19d1e64",null,!1,i["a"],void 0);e["default"]=r.exports},3543:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uInput:a("ec47").default,uSwitch:a("00cd").default},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{attrs:{hideFooter:!0}},[a("nav-back",[a("v-uni-view",{staticClass:"nav-title",style:{color:t.$theme.text}},[t._v(t._s(t.formData.id?"修改":"新增")+"地址")])],1),a("loding",{attrs:{isShow:t.loding}}),a("v-uni-view",{staticClass:"formbox"},[a("v-uni-view",{staticClass:"item",style:{borderBottom:"1px solid rgba("+t.$theme.btnRgb+",0.2)"}},[a("v-uni-view",{staticClass:"label"},[t._v("联系人")]),a("u-input",{attrs:{border:"none",placeholder:"请输入联系人姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-uni-view",{staticClass:"item",style:{borderBottom:"1px solid rgba("+t.$theme.btnRgb+",0.2)"}},[a("v-uni-view",{staticClass:"label"},[t._v("电话号码")]),a("u-input",{attrs:{border:"none",placeholder:"请输入电话号码"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("v-uni-view",{staticClass:"item",style:{borderBottom:"1px solid rgba("+t.$theme.btnRgb+",0.2)"}},[a("v-uni-view",{staticClass:"label"},[t._v("所在地区")]),a("v-uni-view",{staticClass:"addText",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAddress.apply(void 0,arguments)}}},[t._v(" "+t._s(t.formData.province?t.formData.province+"-"+t.formData.city+(t.formData.district?"-"+t.formData.district:""):"请选择地区")+" ")])],1),a("v-uni-view",{staticClass:"item",style:{borderBottom:"1px solid rgba("+t.$theme.btnRgb+",0.2)"}},[a("v-uni-view",{staticClass:"label"},[t._v("详细地址")]),a("u-input",{attrs:{border:"none",placeholder:"请输入详细地址"},model:{value:t.formData.detailAddress,callback:function(e){t.$set(t.formData,"detailAddress",e)},expression:"formData.detailAddress"}})],1),a("v-uni-view",{staticClass:"item",style:{borderBottom:"1px solid rgba("+t.$theme.btnRgb+",0.2)"}},[a("v-uni-view",{staticClass:"label"},[t._v("设为默认地址")]),a("u-switch",{attrs:{activeColor:t.$theme.btn,inactiveColor:"#ffffff",size:"40"},model:{value:t.formData.isDefault,callback:function(e){t.$set(t.formData,"isDefault",e)},expression:"formData.isDefault"}})],1),a("v-uni-view",{staticClass:"address-parse-section"},[a("v-uni-view",{staticClass:"section-title"},[t._v("地址识别")]),a("v-uni-textarea",{staticClass:"address-textarea",style:{border:t.$theme.btn+" 1px solid"},attrs:{placeholder:"请在此粘贴地址信息,逗号或者空格分段","auto-height":!0},model:{value:t.addressText,callback:function(e){t.addressText=e},expression:"addressText"}}),a("v-uni-view",{staticClass:"parse-btn",style:{background:t.$theme.btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.parseAddress.apply(void 0,arguments)}}},[t._v("识别地址")])],1),a("v-uni-view",{staticClass:"save"},[a("v-uni-view",{staticClass:"btn",style:{background:t.$theme.btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addAddress.apply(void 0,arguments)}}},[t._v("保存地址")])],1)],1),a("AddressPicker",{ref:"addressPicker",on:{ok:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmSelection.apply(void 0,arguments)}}})],1)},o=[]},"4a14":function(t,e,a){"use strict";a.r(e);var i=a("84df"),s=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},"73b9":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 背景颜色 */[data-v-c19d1e64]:root{--uni-bg-color:#4309f1;--uni-btn-bg-color:#2cd30b;--uni-back-color:#e91010}.navigator-hover[data-v-c19d1e64]{background-color:initial!important;opacity:1}.formbox[data-v-c19d1e64]{padding:%?20?% %?32?%;padding-bottom:%?140?%}.formbox .item[data-v-c19d1e64]{height:%?80?%;display:flex;align-items:center;justify-content:space-between}.formbox .item .label[data-v-c19d1e64]{font-size:%?28?%;width:%?200?%;color:#000}.formbox .item .addText[data-v-c19d1e64]{flex:1;text-align:left;font-size:%?28?%}.formbox .address-parse-section[data-v-c19d1e64]{margin-top:%?30?%;padding:%?20?%;background-color:#fff;border-radius:%?10?%}.formbox .address-parse-section .section-title[data-v-c19d1e64]{font-size:%?28?%;color:#333;margin-bottom:%?20?%;font-weight:700}.formbox .address-parse-section .address-textarea[data-v-c19d1e64]{width:100%;min-height:%?120?%;padding:%?15?%;border-radius:%?8?%;background-color:#fff;font-size:%?28?%;box-sizing:border-box;line-height:%?42?%}.formbox .address-parse-section .parse-btn[data-v-c19d1e64]{margin-top:%?20?%;width:100%;height:%?70?%;line-height:%?70?%;text-align:center;color:#fff;border-radius:%?10?%;font-size:%?28?%}.save[data-v-c19d1e64]{position:fixed;bottom:0;left:0;width:100%;height:%?120?%;display:flex;justify-content:center;align-items:center}.save .btn[data-v-c19d1e64]{display:flex;box-shadow:%?0?% %?5?% %?10?% rgba(0,0,0,.4);width:70%;height:%?80?%;border-radius:%?80?%;color:#fff;justify-content:center;align-items:center;font-size:%?30?%;margin-bottom:60px}[data-v-c19d1e64] .u-input__content__field-wrapper__field{font-size:%?28?%!important}',""]),t.exports=e},"84df":function(t,e,a){"use strict";a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("5c47"),a("0506"),a("0c26"),a("f7a5"),a("5ef2"),a("a1c1"),a("2c10");var s=i(a("dd90")),o=a("3c08"),n={components:{AddressPicker:s.default},data:function(){return{formData:{id:"",name:"",phone:"",detailAddress:"",province:"",city:"",district:"",isDefault:!1},addressText:""}},onLoad:function(t){var e=this;t.id&&(this.loding=!0,this.$get("api/customerAddress/info",{id:t.id}).then((function(t){200==t.code&&(e.formData=t.data)})).finally((function(){e.loding=!1})))},mounted:function(){},methods:{addAddress:function(){var t=this;if((0,o.isEmptyOrNull)(this.formData.name))return uni.showToast({title:"请填写联系人姓名",icon:"none"}),!1;if((0,o.isEmptyOrNull)(this.formData.phone))return uni.showToast({title:"请填写电话号码",icon:"none"}),!1;if(!/^1[3-9]\d{9}$/.test(this.formData.phone))return uni.showToast({title:"请填写正确的电话号码",icon:"none"}),!1;if((0,o.isEmptyOrNull)(this.formData.province))return uni.showToast({title:"请选择地区",icon:"none"}),!1;if((0,o.isEmptyOrNull)(this.formData.detailAddress))return uni.showToast({title:"请填写详细地址",icon:"none"}),!1;var e=this.formData.id?"api/customerAddress/update":"api/customerAddress/add",a={id:this.formData.id,name:this.formData.name,phone:this.formData.phone,province:this.formData.province,city:this.formData.city,district:this.formData.district,detailAddress:this.formData.detailAddress,isDefault:this.formData.isDefault};this.loding=!0,this.$post(e,a).then((function(e){200==e.code&&(uni.showToast({title:"保存成功",icon:"success"}),setTimeout((function(){t.$back()}),1500))})).finally((function(){t.loding=!1}))},selectAddress:function(){this.$refs.addressPicker.openPicker()},confirmSelection:function(t){this.formData.province=t.province.name,this.formData.city=t.city.name,this.formData.district=t.district.name},parseAddress:function(){var t=this.addressText.trim(),e=[/([\u4e00-\u9fa5]+?(?:省|自治区|直辖市|特别行政区))([\u4e00-\u9fa5]+?(?:市|自治州|地区|盟))([\u4e00-\u9fa5]+?(?:区|县|旗|镇|街道))/,/([\u4e00-\u9fa5]+?(?:市|自治州|地区|盟))([\u4e00-\u9fa5]+?(?:区|县|旗|镇|街道))/],a=/[\u4e00-\u9fa50-9\-#号弄路街]{2,}/,i=/^[\u4e00-\u9fa5·]{2,6}/.exec(t),s=i?null:/^[A-Za-z\u00C0-\u024F.'\-\s]{2,30}/.exec(t);i?this.formData.name=i[0].trim():s&&0===s.index&&(this.formData.name=s[0].trim());var o=/1\d{10}/.exec(t);o&&(this.formData.phone=o[0]);for(var n=null,r=-1,d=0;d<e.length;d++){var c=e[d].exec(t);if(c){n=c,r=d;break}}if(n){var l=n[0],f="",u="",m="";0===r?(f=n[1]||"",u=n[2]||"",m=n[3]||""):(u=n[1]||"",m=n[2]||""),!f&&u&&/^(北京|上海|天津|重庆)/.test(u)&&(f=u,u=""),this.formData.province=f||"",this.formData.city=u||"",this.formData.district=m||"";var v=t.slice(t.indexOf(l)+l.length).trim();o&&(v=v.replace(o[0],"").trim()),this.formData.name&&(v=v.replace(this.formData.name,"").trim()),v=v.replace(/^[\s:：,，;；\-–—]+/,"").trim();var h=t.match(a);if(v)this.formData.detailAddress=v;else if(h){var p=h[0];p!==this.formData.name&&p!==f&&p!==u&&p!==m&&(this.formData.detailAddress=p)}}else{var b=t.match(a);if(b){var D=b[0];o&&(D=D.replace(o[0],"").trim()),this.formData.name&&D===this.formData.name||(this.formData.detailAddress=D)}}}}};e.default=n},d385:function(t,e,a){var i=a("73b9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("967d").default;s("18c301e5",i,!0,{sourceMap:!1,shadowMode:!1})}}]);