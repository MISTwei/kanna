(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subPackages-personal-adduser"],{4770:function(t,e,i){"use strict";i.r(e);var a=i("732d"),n=i("81a3");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("4afa");var s=i("828b"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"7b23de5b",null,!1,a["a"],void 0);e["default"]=c.exports},"4afa":function(t,e,i){"use strict";var a=i("e482"),n=i.n(a);n.a},"4d85":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5de6"));i("e966"),i("5c47"),i("0506"),i("c223"),i("aa9c");var o=a(i("dd90")),s=(i("3c08"),{components:{AddressPicker:o.default},data:function(){return{form:{name:"",nickname:"",phone:"",provinceId:"",cityId:"",districtId:"",email:"",vip:"1",contactNameOne:"",contactNameOnePhone:"",contactNameTwo:"",contactNameTwoPhone:"",remarkOne:"",remarkTwo:"",otherPhone:[],createById:""},addressText:"",showName:"",selectedIndex:"",prickList:[]}},mounted:function(){},created:function(){this.getSales()},methods:{getSales:function(){var t=this;this.$get("api/users/sales").then((function(e){200==e.code&&(t.prickList=e.data)}))},bindPickerChange:function(t){var e=parseInt(t.detail.value);this.selectedIndex=e,this.showName=this.prickList[e].showName,this.form.createById=this.prickList[e].id},submit:function(){var t=/^1[3-9]\d{9}$/;this.form.nickname=this.form.name;var e=this;if(this.form.name){if(this.form.phone)return t.test(this.form.phone)?this.form.contactNameOnePhone&&!t.test(this.form.contactNameOnePhone)?(uni.showToast({title:"联系人电话格式错误",icon:"none"}),!1):void(this.form.provinceId?this.form.createById?this.$post("api/customer/add",this.form).then((function(t){if(200==t.code){var i=t.data.username,a=t.data.newPwd;uni.showModal({title:"用户注册成功",confirmText:"复制",confirmColor:"#284d91",content:"初始密码为:".concat(a,"\n是否复制登录信息?"),showCancel:!0,success:function(t){var n=t.confirm,o=t.cancel;n&&uni.setClipboardData({data:"账号：".concat(i," \n密码：").concat(a),success:function(){uni.showToast({title:"复制成功",icon:"success"}),setTimeout((function(){e.$back()}),1e3)}}),o&&e.$back()}})}})):uni.showToast({title:"请选择所属销售",icon:"none"}):uni.showToast({title:"请选择所在地区",icon:"none"})):(uni.showToast({title:"请填写正确的手机号",icon:"none"}),!1);uni.showToast({title:"请输入手机号",icon:"none"})}else uni.showToast({title:"请输入客户名称",icon:"none"})},onRegionChange:function(t){var e=(0,n.default)(t.detail.value,3),i=e[0],a=e[1],o=e[2];this.addressText="".concat(i," ").concat(a," ").concat(o),this.form.provinceId=i,this.form.cityId=a,this.form.districtId=o},selectAddress:function(){this.$refs.addressPicker.openPicker()},confirmSelection:function(t){var e,i,a,n=[];t.province&&t.province.name&&n.push(t.province.name),t.city&&t.city.name&&n.push(t.city.name),t.district&&t.district.name&&n.push(t.district.name),this.addressText=n.join("-"),this.form.provinceId=(null===(e=t.province)||void 0===e?void 0:e.id)||"",this.form.cityId=(null===(i=t.city)||void 0===i?void 0:i.id)||"",this.form.districtId=(null===(a=t.district)||void 0===a?void 0:a.id)||""}}});e.default=s},"732d":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Layout",[i("nav-back",[i("v-uni-view",{staticClass:"nav-title",style:{color:t.$theme.text}},[t._v("添加客户")])],1),i("loding",{attrs:{isShow:t.loding}}),i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label required"},[t._v("客户名称")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入客户名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label required"},[t._v("手机号")]),i("v-uni-input",{staticClass:"input",attrs:{maxlength:11,type:"number",placeholder:"请输入手机号"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),i("v-uni-view",{staticClass:"form-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAddress.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"label required"},[t._v("所在地区")]),i("v-uni-view",{staticClass:"zhezhao"}),i("v-uni-input",{staticClass:"input address",attrs:{disabled:!0,placeholder:"请选择所在地区"},model:{value:t.addressText,callback:function(e){t.addressText=e},expression:"addressText"}})],1),i("v-uni-picker",{staticClass:"custom-picker",attrs:{mode:"selector",range:t.prickList,"range-key":"showName"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label required"},[t._v("所属销售")]),i("v-uni-view",{staticClass:"picker-view"},[i("v-uni-view",{staticClass:"zhezhao"}),i("v-uni-input",{staticClass:"input address",attrs:{disabled:!0,placeholder:"请选择所属销售"},model:{value:t.showName,callback:function(e){t.showName=e},expression:"showName"}})],1)],1)],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label"},[t._v("邮箱")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入邮箱"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label"},[t._v("联系人")]),i("v-uni-input",{staticClass:"input",attrs:{placeholder:"联系人姓名"},model:{value:t.form.contactNameOne,callback:function(e){t.$set(t.form,"contactNameOne",e)},expression:"form.contactNameOne"}})],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label"},[t._v("联系人电话")]),i("v-uni-input",{staticClass:"input",attrs:{maxlength:11,type:"number",placeholder:"联系人电话"},model:{value:t.form.contactNameOnePhone,callback:function(e){t.$set(t.form,"contactNameOnePhone",e)},expression:"form.contactNameOnePhone"}})],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-text",{staticClass:"label"},[t._v("备注")]),i("v-uni-textarea",{staticClass:"textarea",attrs:{placeholder:"请输入备注"},model:{value:t.form.remarkOne,callback:function(e){t.$set(t.form,"remarkOne",e)},expression:"form.remarkOne"}})],1),i("v-uni-view",{staticClass:"submit",style:{background:t.$theme.btn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交信息")])],1),i("AddressPicker",{ref:"addressPicker",on:{ok:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmSelection.apply(void 0,arguments)}}})],1)},n=[]},"81a3":function(t,e,i){"use strict";i.r(e);var a=i("4d85"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"944b":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 背景颜色 */[data-v-7b23de5b]:root{--uni-bg-color:#4309f1;--uni-btn-bg-color:#2cd30b;--uni-back-color:#e91010}.navigator-hover[data-v-7b23de5b]{background-color:initial!important;opacity:1}.page[data-v-7b23de5b]{padding:%?24?%}.form-item[data-v-7b23de5b]{position:relative;margin-bottom:%?24?%}.label[data-v-7b23de5b]{position:relative;margin-bottom:%?8?%;color:#333}.label.required[data-v-7b23de5b]::after{position:absolute;content:"*";color:red;right:%?-20?%;top:%?6?%}.input[data-v-7b23de5b]{height:%?80?%;padding:0 %?20?%;border:1px solid #ddd;border-radius:%?8?%;box-sizing:border-box;font-size:%?34?%}.zhezhao[data-v-7b23de5b]{position:absolute;top:0;left:0;z-index:1;height:100%;width:100%}.picker-view[data-v-7b23de5b]{position:relative;width:100%}.textarea[data-v-7b23de5b]{width:100%;min-height:%?140?%;padding:%?16?%;border:1px solid #ddd;border-radius:%?8?%;box-sizing:border-box}.submit[data-v-7b23de5b]{height:%?96?%;display:flex;align-items:center;justify-content:center;font-size:%?34?%;margin-top:%?40?%;color:#fff;border-radius:%?8?%}',""]),t.exports=e},e482:function(t,e,i){var a=i("944b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("52dbb578",a,!0,{sourceMap:!1,shadowMode:!1})}}]);